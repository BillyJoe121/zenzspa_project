============================= test session starts =============================
platform win32 -- Python 3.13.3, pytest-9.0.1, pluggy-1.6.0 -- C:\Users\joshe\Desktop\Zenz\zenzspa_project\venv\Scripts\python.exe
cachedir: .pytest_cache
django: version: 5.2.3, settings: zenzspa.settings (from ini)
rootdir: C:\Users\joshe\Desktop\Zenz\zenzspa_project
configfile: pytest.ini
plugins: anyio-4.11.0, cov-7.0.0, django-4.11.1, mock-3.15.1
collecting ... collected 10 items

bot/tests/test_services.py::TestDataContextService::test_get_services_empty PASSED [ 10%]
bot/tests/test_services.py::TestDataContextService::test_get_services_with_data PASSED [ 20%]
bot/tests/test_services.py::TestDataContextService::test_get_products_formatting PASSED [ 30%]
bot/tests/test_services.py::TestDataContextService::test_get_staff_empty PASSED [ 40%]
bot/tests/test_services.py::TestDataContextService::test_get_staff_with_data PASSED [ 50%]
bot/tests/test_services.py::TestDataContextService::test_cache_behavior PASSED [ 60%]
bot/tests/test_services.py::TestGeminiServiceInternals::test_init_missing_api_key FAILED [ 70%]
bot/tests/test_services.py::TestGeminiServiceInternals::test_generate_response_success PASSED [ 80%]
bot/tests/test_services.py::TestGeminiServiceInternals::test_generate_response_security_block PASSED [ 90%]
bot/tests/test_services.py::TestGeminiServiceInternals::test_generate_response_api_error PASSED [100%]

================================== FAILURES ===================================
____________ TestGeminiServiceInternals.test_init_missing_api_key _____________
bot\tests\test_services.py:130: in test_init_missing_api_key
    assert service.client is None
           ^^^^^^^^^^^^^^
E   AttributeError: 'GeminiService' object has no attribute 'client'
=========================== short test summary info ===========================
FAILED bot/tests/test_services.py::TestGeminiServiceInternals::test_init_missing_api_key
=================== 1 failed, 9 passed, 1 warning in 2.28s ====================
